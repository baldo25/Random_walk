Project Random Walk Test 1.
Define Variables
1. Equity = E
Capital
2. Initial Capital = Ini.Cap
3. Current Capital =Curr.Cap
4. Invested Capital =Invest.Cap
5. Available Capital = Avail.Cap
Prices
1. Pe = Entry.Price
2. Ps1 = Stop.Price1
3. Ps2 = Stop.Price2
4. Pp1 = Profit.Price 1
5. Pp2 = Profit.Price 2
6. Pp3 = Profit.Price 3
7. Pp4 = Profit.Price 4
Position = Pstn
Entry Amount = N
Win/Loss Ration = WLR%
1. WLR30 =30%
2. WLR40 =40%
3. WLR50 =50%
4. WLR60 =60%
5. WLR70 =70%
We will set this for various strategies (30%, 40%, 50%, 60%, 70%)
Loop number = L
Number of random moves in each price movement batch. Could be anything from 1
to 2000.
Exit percentages
1. a% ( the percentage that is sold at Pp1)
2. b% ( the percentage that is sold at Pp2)
3. c% ( the percentage that is sold at Pp3)
4. d% ( the percentage that is sold at Pp4)
5. g% ( the percentage that is sold at Ps1)
6. h% ( the percentage that is sold at Ps2)
Risk Percentage = rsk
This will be set at the outset and will range from 0.5% to 2.5%
Calculations of each value
Profits / Losses
i. $ Profit1 at P= Pp1.
Profit.Pp1 = (Pp1 – Pe) X N X a%
ii. $ Profit2 at P= Pp2.
Profit.Pp2 = (Pp2 – Pe) X N X b%
iii. $ Profit3 at P= Pp3.
Profit.Pp3 = (Pp3 – Pe) X N X c%
iv. $ Profit4 at P= Pp4.
Profit.Pp4 = (Pp4 – Pe) X N X d%
v. Loss at P= Ps1.
Loss.Ps1 = (Ps1 – Pe) X N X g%
vi. Profit at P= Ps2.
Loss.Ps2 = (Ps2 – Pe) X N X h%


Dataset
Generate a data set of 200 integer random numbers between -1,0,1.
(Initially we can use the set generated by excel as our dataset. Remember that in future we
will want to use different data sets; this could be random prices or historical prices.)
We will use the same dataset for different algorithms where we make changes to the
strategy and see how this effects our equity curve. We want to ensure that changes in our
equity curve are due to the changes in our parameters and not changes in the random data.
Define various If statements
If P = P4 OR Pstop 2 then exit position. Ie Position = 0 and set next price to be Pe again.
If P = Pp1 sell a%
If P = Pp2 sell b%
If P = Pp3 sell c%
If P = Pp4 sell d%
If P = Pstop1 sell g%
If P = Pstop2 sell h%
If Position < N AND P = Pe buy N
Run programme.
Loop L times




Process
Set our starting position as:
Set price = Pe and Enter position = Buy N shares.
Use first number from our dataset to determine where the price moved from Pe.
Ie Did the price has moved up, down or unchanged?
Decide whether to trade or Exit position.
Run through various If Statements.
Determine specific action for each specific movement in price.
Determine Action – buy more, sell some, sell all, exit position. Re-enter position at Pe.
Calculate P/L for each price point or movement in price.
Calculate Cumulative P/L at each price point.
Calculate Current Capital for each price point.
Calculate Invested Capital for each price point.
Calculate Current Equity for each price point.
Calculate Available Capital for each price point.
Increase P/L count by each movement in price – to get distribution of Profits and losses.
After M trades adjust N to reflect new capital amount – Eventually N will be a function of
total capital, the risk percentage variable. However, initially we will set N as a fixed integer
that is adjusted after every M trades (say every 10, 50 or 100)
[Ie N = F(capital, risk %age)]
Plot equity curve over each price movement. Y axis is Equity, x axis is the loop count.